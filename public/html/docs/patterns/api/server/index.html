<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from pqina.nl/filepond/docs/patterns/api/server/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Apr 2021 12:53:11 GMT -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="index.html">
    <link rel="apple-touch-icon" sizes="57x57" href="../../../images/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../../../images/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../../../images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../../../images/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../../../images/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../../../images/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="../../../images/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../../../images/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../../../images/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="../../../images/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../../../images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../images/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="../../../images/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="../../../css/prism.css" media="none" onload="this.media='all';">
    <link rel="stylesheet" type="text/css" href="../../../css/stylesa800.css?bust=1">
    <link rel="stylesheet" type="text/css" href="../../../css/cupper-happya800.css?bust=1">
    <style id="inverter" media="none">
      html { filter: invert(100%) }
      * { background-color: inherit }
      img:not([src*=".svg"]), .colors, iframe, .demo-container { filter: invert(100%) }
    </style>
    <title>
      
        Server | FilePond Documentation
      
    </title>
    
  </head>
  <body>
    
      <a href="#main">skip to content</a>
    
    <svg style="display: none">
  <symbol id="bookmark" viewBox="0 0 40 50">
   <g transform="translate(2266 3206.2)">
    <path style="stroke:currentColor;stroke-width:3.2637;fill:none" d="m-2262.2-3203.4-.2331 42.195 16.319-16.318 16.318 16.318.2331-42.428z"/>
   </g>
  </symbol>

  <symbol id="w3c" viewBox="0 0 127.09899 67.763">
   <text font-size="83" style="font-size:83px;font-family:Trebuchet;letter-spacing:-12;fill-opacity:0" letter-spacing="-12" y="67.609352" x="-26.782778">W3C</text>
   <text font-size="83" style="font-size:83px;font-weight:bold;font-family:Trebuchet;fill-opacity:0" y="67.609352" x="153.21722" font-weight="bold">SVG</text>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m33.695.377 12.062 41.016 12.067-41.016h8.731l-19.968 67.386h-.831l-12.48-41.759-12.479 41.759h-.832l-19.965-67.386h8.736l12.061 41.016 8.154-27.618-3.993-13.397h8.737z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m91.355 46.132c0 6.104-1.624 11.234-4.862 15.394-3.248 4.158-7.45 6.237-12.607 6.237-3.882 0-7.263-1.238-10.148-3.702-2.885-2.47-5.02-5.812-6.406-10.022l6.82-2.829c1.001 2.552 2.317 4.562 3.953 6.028 1.636 1.469 3.56 2.207 5.781 2.207 2.329 0 4.3-1.306 5.909-3.911 1.609-2.606 2.411-5.738 2.411-9.401 0-4.049-.861-7.179-2.582-9.399-1.995-2.604-5.129-3.912-9.397-3.912h-3.327v-3.991l11.646-20.133h-14.062l-3.911 6.655h-2.493v-14.976h32.441v4.075l-12.31 21.217c4.324 1.385 7.596 3.911 9.815 7.571 2.22 3.659 3.329 7.953 3.329 12.892z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.21 0 1.414 8.6-5.008 9.583s-1.924-4.064-5.117-6.314c-2.693-1.899-4.447-2.309-7.186-1.746-3.527.73-7.516 4.938-9.258 10.13-2.084 6.21-2.104 9.218-2.178 11.978-.115 4.428.58 7.043.58 7.043s-3.04-5.626-3.011-13.866c.018-5.882.947-11.218 3.666-16.479 2.404-4.627 5.954-7.404 9.114-7.728 3.264-.343 5.848 1.229 7.841 2.938 2.089 1.788 4.213 5.698 4.213 5.698l4.94-9.837z"/>
   <path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.82 48.674s-2.208 3.957-3.589 5.48c-1.379 1.524-3.849 4.209-6.896 5.555-3.049 1.343-4.646 1.598-7.661 1.306-3.01-.29-5.807-2.032-6.786-2.764-.979-.722-3.486-2.864-4.897-4.854-1.42-2-3.634-5.995-3.634-5.995s1.233 4.001 2.007 5.699c.442.977 1.81 3.965 3.749 6.572 1.805 2.425 5.315 6.604 10.652 7.545 5.336.945 9.002-1.449 9.907-2.031.907-.578 2.819-2.178 4.032-3.475 1.264-1.351 2.459-3.079 3.116-4.108.487-.758 1.276-2.286 1.276-2.286l-1.276-6.644z"/>
  </symbol>

  <symbol id="tag" viewBox="0 0 177.16535 177.16535">
    <g transform="translate(0 -875.2)">
     <path style="fill-rule:evenodd;stroke-width:0;fill:currentColor" d="m159.9 894.3-68.79 8.5872-75.42 77.336 61.931 60.397 75.429-76.565 6.8495-69.755zm-31.412 31.835a10.813 10.813 0 0 1 1.8443 2.247 10.813 10.813 0 0 1 -3.5174 14.872l-.0445.0275a10.813 10.813 0 0 1 -14.86 -3.5714 10.813 10.813 0 0 1 3.5563 -14.863 10.813 10.813 0 0 1 13.022 1.2884z"/>
    </g>
  </symbol>

  <symbol id="balloon" viewBox="0 0 141.73228 177.16535">
   <g transform="translate(0 -875.2)">
    <g>
     <path style="fill:currentColor" d="m68.156 882.83-.88753 1.4269c-4.9564 7.9666-6.3764 17.321-5.6731 37.378.36584 10.437 1.1246 23.51 1.6874 29.062.38895 3.8372 3.8278 32.454 4.6105 38.459 4.6694-.24176 9.2946.2879 14.377 1.481 1.2359-3.2937 5.2496-13.088 8.886-21.623 6.249-14.668 8.4128-21.264 10.253-31.252 1.2464-6.7626 1.6341-12.156 1.4204-19.764-.36325-12.93-2.1234-19.487-6.9377-25.843-2.0833-2.7507-6.9865-7.6112-7.9127-7.8436-.79716-.20019-6.6946-1.0922-6.7755-1.0248-.02213.0182-5.0006-.41858-7.5248-.22808l-2.149-.22808h-3.3738z"/>
     <path style="fill:currentColor" d="m61.915 883.28-3.2484.4497c-1.7863.24724-3.5182.53481-3.8494.63994-2.4751.33811-4.7267.86957-6.7777 1.5696-.28598 0-1.0254.20146-2.3695.58589-5.0418 1.4418-6.6374 2.2604-8.2567 4.2364-6.281 7.6657-11.457 18.43-12.932 26.891-1.4667 8.4111.71353 22.583 5.0764 32.996 3.8064 9.0852 13.569 25.149 22.801 37.517 1.3741 1.841 2.1708 2.9286 2.4712 3.5792 3.5437-1.1699 6.8496-1.9336 10.082-2.3263-1.3569-5.7831-4.6968-21.86-6.8361-33.002-.92884-4.8368-2.4692-14.322-3.2452-19.991-.68557-5.0083-.77707-6.9534-.74159-15.791.04316-10.803.41822-16.162 1.5026-21.503 1.4593-5.9026 3.3494-11.077 6.3247-15.852z"/>
     <path style="fill:currentColor" d="m94.499 885.78c-.10214-.0109-.13691 0-.0907.0409.16033.13489 1.329 1.0675 2.5976 2.0723 6.7003 5.307 11.273 14.568 12.658 25.638.52519 4.1949.24765 14.361-.5059 18.523-2.4775 13.684-9.7807 32.345-20.944 53.519l-3.0559 5.7971c2.8082.76579 5.7915 1.727 8.9926 2.8441 11.562-11.691 18.349-19.678 24.129-28.394 7.8992-11.913 11.132-20.234 12.24-31.518.98442-10.02-1.5579-20.876-6.7799-28.959-.2758-.4269-.57803-.86856-.89617-1.3166-3.247-6.13-9.752-12.053-21.264-16.131-2.3687-.86369-6.3657-2.0433-7.0802-2.1166z"/>
     <path style="fill:currentColor" d="m32.52 892.22c-.20090-.13016-1.4606.81389-3.9132 2.7457-11.486 9.0476-17.632 24.186-16.078 39.61.79699 7.9138 2.4066 13.505 5.9184 20.562 5.8577 11.77 14.749 23.219 30.087 38.74.05838.059.12188.1244.18052.1838 1.3166-.5556 2.5965-1.0618 3.8429-1.5199-.66408-.32448-1.4608-1.3297-3.8116-4.4602-5.0951-6.785-8.7512-11.962-13.051-18.486-5.1379-7.7948-5.0097-7.5894-8.0586-13.054-6.2097-11.13-8.2674-17.725-8.6014-27.563-.21552-6.3494.13041-9.2733 1.775-14.987 2.1832-7.5849 3.9273-10.986 9.2693-18.07 1.7839-2.3656 2.6418-3.57 2.4409-3.7003z"/>
     <path style="fill:currentColor" d="m69.133 992.37c-6.2405.0309-12.635.76718-19.554 2.5706 4.6956 4.7759 9.935 10.258 12.05 12.625l4.1272 4.6202h11.493l3.964-4.4516c2.0962-2.3541 7.4804-7.9845 12.201-12.768-8.378-1.4975-16.207-2.6353-24.281-2.5955z"/>
     <rect style="stroke-width:0;fill:currentColor" ry="2.0328" height="27.746" width="22.766" y="1017.7" x="60.201"/>
    </g>
   </g>
  </symbol>

  <symbol id="info" viewBox="0 0 41.667 41.667">
   <g transform="translate(-37.035 -1004.6)">
    <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m76.25 1030.2a18.968 18.968 0 0 1 -23.037 13.709 18.968 18.968 0 0 1 -13.738 -23.019 18.968 18.968 0 0 1 23.001 -13.768 18.968 18.968 0 0 1 13.798 22.984"/>
    <g transform="matrix(1.1146 0 0 1.1146 -26.276 -124.92)">
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m75.491 1039.5v-8.7472"/>
     <path style="stroke-width:0;fill:currentColor" transform="scale(-1)" d="m-73.193-1024.5a2.3719 2.3719 0 0 1 -2.8807 1.7142 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
   </g>
  </symbol>

  <symbol id="warning" viewBox="0 0 48.430474 41.646302">
    <g transform="translate(-1.1273 -1010.2)">
     <path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:4.151;fill:none" d="m25.343 1012.3-22.14 37.496h44.28z"/>
     <path style="stroke:currentColor;stroke-linecap:round;stroke-width:4.1512;fill:none" d="m25.54 1027.7v8.7472"/>
     <path style="stroke-width:0;fill:currentColor" d="m27.839 1042.8a2.3719 2.3719 0 0 1 -2.8807 1.7143 2.3719 2.3719 0 0 1 -1.718 -2.8785 2.3719 2.3719 0 0 1 2.8763 -1.7217 2.3719 2.3719 0 0 1 1.7254 2.8741"/>
    </g>
  </symbol>

  <symbol id="menu" viewBox="0 0 50 50">
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="0" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="20" x="0"/>
     <rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="40" x="0"/>
   </symbol>

   <symbol id="link" viewBox="0 0 50 50">
    <g transform="translate(0 -1002.4)">
     <g transform="matrix(.095670 0 0 .095670 2.3233 1004.9)">
      <g>
       <path style="stroke-width:0;fill:currentColor" d="m452.84 192.9-128.65 128.65c-35.535 35.54-93.108 35.54-128.65 0l-42.881-42.886 42.881-42.876 42.884 42.876c11.845 11.822 31.064 11.846 42.886 0l128.64-128.64c11.816-11.831 11.816-31.066 0-42.9l-42.881-42.881c-11.822-11.814-31.064-11.814-42.887 0l-45.928 45.936c-21.292-12.531-45.491-17.905-69.449-16.291l72.501-72.526c35.535-35.521 93.136-35.521 128.64 0l42.886 42.881c35.535 35.523 35.535 93.141-.001 128.66zm-254.28 168.51-45.903 45.9c-11.845 11.846-31.064 11.817-42.881 0l-42.884-42.881c-11.845-11.821-11.845-31.041 0-42.886l128.65-128.65c11.819-11.814 31.069-11.814 42.884 0l42.886 42.886 42.876-42.886-42.876-42.881c-35.54-35.521-93.113-35.521-128.65 0l-128.65 128.64c-35.538 35.545-35.538 93.146 0 128.65l42.883 42.882c35.51 35.54 93.11 35.54 128.65 0l72.496-72.499c-23.956 1.597-48.092-3.784-69.474-16.283z"/>
      </g>
     </g>
    </g>
  </symbol>

  <symbol id="doc" viewBox="0 0 35 45">
   <g transform="translate(-147.53 -539.83)">
    <path style="stroke:currentColor;stroke-width:2.4501;fill:none" d="m149.38 542.67v39.194h31.354v-39.194z"/>
    <g style="stroke-width:25" transform="matrix(.098003 0 0 .098003 133.69 525.96)">
     <path d="m220 252.36h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path style="stroke:currentColor;stroke-width:25;fill:none" d="m220 409.95h200"/>
     <path d="m220 488.74h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
     <path d="m220 331.15h200" style="stroke:currentColor;stroke-width:25;fill:none"/>
    </g>
   </g>
 </symbol>

 <symbol id="tick" viewBox="0 0 177.16535 177.16535">
  <g transform="translate(0 -875.2)">
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="155" width="40" y="702.99" x="556.82"/>
   <rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="40" width="90.404" y="817.99" x="506.42"/>
  </g>
 </symbol>
</svg>

    <div class="wrapper ">
        <header class="intro-and-nav" role="banner">
          <div>
            <div class="intro">
              <a class="logo" href="../../../index.html" aria-label="FilePond Documentation home page">
                <img src="../../../images/logo.svg" alt="">
              </a>
              <p class="library-desc">
                <strong>FilePond</strong> Documentation
                
                  <a class="print" rel="nofollow" href="../../../print-version/index.html">
                    <svg viewBox="0 0 35 45" aria-hidden="true" focusable="false">
                      <use xlink:href="#doc"></use>
                    </svg>Print version
                 
               </a>
              </p>
              
            </div>
            
              <nav id="patterns-nav" class="patterns" role="navigation">
                <h2 class="vh">Main navigation</h2>
                <button id="menu-button" aria-expanded="false">
                  <svg viewBox="0 0 50 50" aria-hidden="true" focusable="false">
                    <use xlink:href="#menu"></use>
                  </svg>
                  Menu
                </button>
                
                
                  <ul id="patterns-list">
                    
                      <li class="pattern">
                        <a href="../../help/index.html" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">Help</span>
                        </a>
                      </li>
                    
                      <li class="pattern">
                        <a href="../../installation/index.html" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">Installation</span>
                        </a>
                      </li>
                    
                      <li class="pattern">
                        <a href="../../getting-started/index.html" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">Getting started</span>
                        </a>
                      </li>
                    
                      <li class="pattern">
                        <a href="../../browser-support/index.html" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">Browser support</span>
                        </a>
                      </li>
                    
                      <li class="pattern">
                        <a href="../index.html" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">API</span>
                        </a>
                      </li>
                    
                      <li class="pattern">
                        <a href="../../frameworks/index.html" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">Frameworks</span>
                        </a>
                      </li>
                    
                      <li class="pattern">
                        <a href="../../plugins/index.html" >
                          <svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50">
                            <use xlink:href="#bookmark"></use>
                          </svg>
                          <span class="text">Plugins</span>
                        </a>
                      </li>
                    
                    
                      <li>
                        <h3>API</h3>
                        <ul>
                          
                            <li class="pattern">
                              <a href="../style/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Style</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../filepond-object/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">FilePond object</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../filepond-instance/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">FilePond instance</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../file/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">File</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="index.html" aria-current="page">
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Server</span>
                              </a>
                            </li>
                          
                        </ul>
                      </li>
                    
                      <li>
                        <h3>Frameworks</h3>
                        <ul>
                          
                            <li class="pattern">
                              <a href="../../frameworks/introduction/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Introduction</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../frameworks/angular/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Angular</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../frameworks/jquery/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">jQuery</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../frameworks/react/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">React</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../frameworks/svelte/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Svelte</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../frameworks/vue/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Vue</span>
                              </a>
                            </li>
                          
                        </ul>
                      </li>
                    
                      <li>
                        <h3>Plugins</h3>
                        <ul>
                          
                            <li class="pattern">
                              <a href="../../plugins/introduction/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Introduction</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/file-encode/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">File encode</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/file-metadata/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">File metadata</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/file-poster/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">File poster</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/file-rename/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">File rename</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/file-validate-size/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">File size validation</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/file-validate-type/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">File type validation</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/image-crop/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Image crop</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/image-edit/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Image edit</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/image-exif-orientation/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Image EXIF orientation</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/image-filter/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Image filter</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/image-preview/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Image preview</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/image-resize/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Image resize</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/image-validate-size/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Image size validation</span>
                              </a>
                            </li>
                          
                            <li class="pattern">
                              <a href="../../plugins/image-transform/index.html" >
                                <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
                                  <use xlink:href="#bookmark"></use>
                                </svg>
                                <span class="text">Image transform</span>
                              </a>
                            </li>
                          
                        </ul>
                      </li>
                    
                  </ul>
                
              </nav>
            
          </div>
        </header>
      <div class="main-and-footer">
        <div>
          
  <main id="main">
    <h1>
      <svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false">
        <use xlink:href="#bookmark"></use>
      </svg>
      Server
    </h1>
    
    
      

  <nav class="toc" aria-labelledby="toc-heading">
    <h2 id="toc-heading">Table of contents</h2>
    <ol>
      
        <li>
          <a href="#introduction">
            Introduction
          </a>
        </li>
      
        <li>
          <a href="#configuration">
            Configuration
          </a>
        </li>
      
        <li>
          <a href="#advanced">
            Advanced
          </a>
        </li>
      
        <li>
          <a href="#conclusion">
            Conclusion
          </a>
        </li>
      
    </ol>
  </nav>


    
    <h2 id="introduction">Introduction</h2>
<p>The server API endpoints can be configured with the <code>server</code> property. Only after these have been configured can FilePond upload files to a server using <code>XMLHttpRequest</code>.</p>
<p>We&rsquo;ll first go over the different end points and what they do before discussing how to configure them.</p>
<h3 id="process">Process</h3>
<p>Asynchronously uploading files with FilePond is called processing. In short, FilePond sends a file to the server and expects the server to return a unique file id. This unique id is then used to revert uploads or restore earlier uploads.</p>
<!-- raw HTML omitted -->
<p>Along with the file object, FilePond also sends the file metadata to the server, both these objects are given the same <code>name</code>.</p>
<!-- raw HTML omitted -->
<p>The upload process described over time:</p>
<ol>
<li><strong>FilePond</strong> uploads file <code>my-file.jpg</code> as <code>multipart/form-data</code> using a <code>POST</code> request</li>
<li><strong>server</strong> saves file to unique location <code>tmp/12345/my-file.jpg</code></li>
<li><strong>server</strong> returns unique location id <code>12345</code> in <code>text/plain</code> response</li>
<li><strong>FilePond</strong> stores unique id <code>12345</code> in a hidden input field</li>
<li><strong>client</strong> submits the FilePond parent form containing the hidden input field with the unique id</li>
<li><strong>server</strong> uses the unique id to move <code>tmp/12345/my-file.jpg</code> to its final location and remove the <code>tmp/12345</code> folder</li>
</ol>
<!-- raw HTML omitted -->
<p>FilePond uses unique file ids to prevent showing information about the server file structure to the client.</p>
<!-- raw HTML omitted -->
<h3 id="process-chunks">Process Chunks</h3>
<p>To process files in chunks set <code>chunkUploads</code> to <code>true</code>.</p>
<p>FilePond will then slice up files bigger than the set <code>chunkSize</code> into parts.</p>
<p>Custom headers used in requests</p>
<table>
<thead>
<tr>
<th>header</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Upload-Length</td>
<td>The total size of the file being transferred</td>
</tr>
<tr>
<td>Upload-Name</td>
<td>The name of the file being transferred</td>
</tr>
<tr>
<td>Upload-Offset</td>
<td>The offset of the chunk being transferred</td>
</tr>
<tr>
<td>Content-Type</td>
<td>The content type of a patch request, set to <code>'application/offset+octet-stream'</code></td>
</tr>
</tbody>
</table>
<p>In short:</p>
<ul>
<li>FilePond will send a <code>POST</code> request (without file) to start a chunked transfer, expecting to receive a unique transfer id in the response body, it&rsquo;ll add the <code>Upload-Length</code> header to this request.</li>
<li>FilePond will send a <code>PATCH</code> request to push a chunk to the server. Each of these requests is accompanied by a <code>Content-Type</code>, <code>Upload-Offset</code>, <code>Upload-Name</code>, and <code>Upload-Length</code> header.</li>
<li>FilePond will send a <code>HEAD</code> request to determine which chunks have already been uploaded, expecting the file offset of the next expected chunk in the <code>Upload-Offset</code> response header.</li>
</ul>
<p>In detail:</p>
<ol>
<li><strong>FilePond</strong> requests a transfer id from the server, a unique location to identify this transfer with. It does this using a <code>POST</code> request. The request is accompanied by the metadata and the total file upload size set to the <code>Upload-Length</code> header.</li>
<li><strong>server</strong> create unique location <code>tmp/12345/</code></li>
<li><strong>server</strong> returns unique location id <code>12345</code> in <code>text/plain</code> response</li>
<li><strong>FilePond</strong> stores unique id <code>12345</code> in file item</li>
<li><strong>FilePond</strong> sends first chunk using a <code>PATCH</code> request adding the unique id <code>12345</code> in the URL, each <code>PATCH</code> request is accompanied by a <code>Upload-Offset</code>, <code>Upload-Length</code>, and <code>Upload-Name</code> header. The <code>Upload-Offset</code> header contains the byte offset of the chunk, the <code>Upload-Length</code> header contains the total file size, the <code>Upload-Name</code> header contains the file name.</li>
<li><strong>FilePond</strong> sends chunks until all chunks have been uploaded succesfully.</li>
<li><strong>server</strong> creates the file if all chunks have been received succesfully.</li>
<li><strong>FilePond</strong> stores the unique id <code>12345</code> as the server id of this file.</li>
<li><strong>client</strong> submits the FilePond parent form containing the hidden input field with the unique id</li>
<li><strong>server</strong> uses the unique id to move <code>tmp/12345/my-file.jpg</code> to its final location and remove the <code>tmp/12345</code> folder</li>
</ol>
<p>If one of the chunks fails to upload after the set amount of retries in <code>chunkRetryDelays</code> the user has the option to retry the upload.</p>
<ol>
<li><strong>FilePond</strong> As FilePond remembers the previous transfer id the process now starts of with a <code>HEAD</code> request accompanied by the transfer id (<code>12345</code>) in the URL.</li>
<li><strong>server</strong> responds with <code>Upload-Offset</code> set to the next expected chunk offset in bytes.</li>
<li><strong>FilePond</strong> marks all chunks with lower offsets as complete and continues with uploading the chunk at the requested offset.</li>
</ol>
<p>Everything continues like normal.</p>
<h3 id="revert">Revert</h3>
<p>There&rsquo;s one way the <strong>client</strong> can deviate from the previous path and that is by reverting the upload. Let&rsquo;s go back to step five and switch to this alternate reality.</p>
<!-- raw HTML omitted -->
<p>This is another reason why FilePond uses unique ids. If we&rsquo;re going to give the client the power to influence the server file system that power should be very minimal.</p>
<h3 id="restore">Restore</h3>
<p>FilePond uses the <code>restore</code> end point to restore temporary server files. This might be useful in a situation where the user closes the browser window but hadn&rsquo;t finished completing the form. Temporary files can be set with the <code>files</code> property.</p>
<p>Step one and two now look like this.</p>
<ol>
<li><strong>FilePond</strong> requests restore of file with id <code>12345</code> using a <code>GET</code> request</li>
<li><strong>server</strong> returns a file object with header <code>Content-Disposition: inline; filename=&quot;my-file.jpg&quot;</code></li>
</ol>
<h3 id="load">Load</h3>
<p>The <code>restore</code> end point is used to restore a temporary file, the <code>load</code> end point is used to restore already uploaded server files. These files might be located in a database or somewhere on the server file system. Either way they might not be directly accessible from the web.</p>
<p>For situations where a user might want to edit an existing file selection we can use the <code>load</code> end point to restore those files.</p>
<ol>
<li><strong>FilePond</strong> requests restore of file with id <code>12345</code> or a file name using a <code>GET</code> request</li>
<li><strong>server</strong> returns a file object with header <code>Content-Disposition: inline; filename=&quot;my-file.jpg&quot;</code></li>
</ol>
<h3 id="fetch">Fetch</h3>
<p>The <code>fetch</code> end point is used to load files located on remote servers. When a user drops a remote link, FilePond asks the server to download it (CORS might otherwise block it). In this situation the server serves as a proxy.</p>
<ol>
<li><strong>FilePond</strong> requests fetch of file <code>http://somewhere/their-file.jpg</code> using a <code>GET</code> request</li>
<li><strong>server</strong> returns a file object as if the file is located on the server</li>
</ol>
<p>An alternative is to configure <strong>FilePond</strong> to only do a <code>HEAD</code> request. The server should then save the file to <code>tmp/12345/my-file.jpg</code> and return response headers with the required file information.</p>
<pre><code>header('Access-Control-Expose-Headers: Content-Disposition, Content-Length, X-Content-Transfer-Id');
header('Content-Type: image/jpeg');
header('Content-Length: 3965123');
header('Content-Disposition: inline; filename=&quot;my-file.jpg&quot;');    
header('X-Content-Transfer-Id: 12345');
</code></pre><h3 id="remove">Remove</h3>
<p>The <code>remove</code> end point is used to remove <code>local</code> files located on the server. This end point is not enabled by default and can only be set to a custom function.</p>
<h2 id="configuration">Configuration</h2>
<p>The <code>server</code> configuration property expects an object or a URL. If it&rsquo;s not defined, FilePond will not be able to upload file to the server or use fetch functionality.</p>
<h3 id="url">URL</h3>
<p>Setting a single URL is the most basic form of defining a server configuration.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./&#39;</span>
});
</code></pre></div><p>This tells FilePond the api is located at the same location as the current page. It will then assume it can call all methods on this url. Like shown below.</p>
<table>
<thead>
<tr>
<th>method</th>
<th>type</th>
<th>path</th>
</tr>
</thead>
<tbody>
<tr>
<td>process</td>
<td>POST</td>
<td></td>
</tr>
<tr>
<td>revert</td>
<td>DELETE</td>
<td></td>
</tr>
<tr>
<td>load</td>
<td>GET</td>
<td>?load=<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>restore</td>
<td>GET</td>
<td>?restore=<!-- raw HTML omitted --></td>
</tr>
<tr>
<td>fetch</td>
<td>GET</td>
<td>HEAD</td>
</tr>
<tr>
<td>patch</td>
<td>PATCH</td>
<td>?patch=<!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>
<p>We can of course supply a path or URL to another location, FilePond will simply append the above default paths to the supplied value. If we want more fine grained control we can use an object to configure the server end points.</p>
<h3 id="object-configuration">Object Configuration</h3>
<p>To setup asynchronous uploading only, we pass the location of the process end point.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">process</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./process&#39;</span>,
        <span style="color:#a6e22e">fetch</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
        <span style="color:#a6e22e">revert</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
    }
});
</code></pre></div><p>This configuration assumes that the <code>process</code> end point is located on the same server. Reverting a file upload and fetching a remote file have been disabled. Restoring or loading an earlier uploaded file with this configuration is also not possible.</p>
<p>To unlock these features we have to supply FilePond with some more end points using the <code>revert</code>, <code>fetch</code>, <code>load</code> and <code>restore</code> properties.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">process</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./process&#39;</span>,
        <span style="color:#a6e22e">revert</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./revert&#39;</span>,
        <span style="color:#a6e22e">restore</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./restore/&#39;</span>,
        <span style="color:#a6e22e">load</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./load/&#39;</span>,
        <span style="color:#a6e22e">fetch</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./fetch/&#39;</span>
    }
});
</code></pre></div><p>FilePond will append the dropped URL to the <code>fetch</code> method, and the unique file id will automatically be added to the <code>restore</code> and <code>load</code> end points. <code>restore</code>, <code>load</code> and <code>fetch</code> are <code>GET</code> requests while <code>process</code> is a <code>POST</code> request and <code>revert</code> is a <code>DELETE</code> request.</p>
<p>If the endpoints are located on a different server we can add a <code>url</code> property to tell FilePond its location.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
<span style="color:#a6e22e">server</span><span style="color:#f92672">:</span>{
    <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;http://192.168.0.100&#39;</span>,
    <span style="color:#a6e22e">process</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./process&#39;</span>,
    <span style="color:#a6e22e">revert</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./revert&#39;</span>,
    <span style="color:#a6e22e">restore</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./restore/&#39;</span>,
    <span style="color:#a6e22e">load</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./load/&#39;</span>,
    <span style="color:#a6e22e">fetch</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./fetch/&#39;</span>
});
</code></pre></div><p>Depending on our project we might have to pass additional information to each request. We can accomplish this by turning the end point into an object which allows for more fine grain control over how FilePond handles each request.</p>
<p>For brevity we&rsquo;ll only look at the <code>process</code> property. All other properties can be configured with the same configuration object.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;http://192.168.0.100&#39;</span>,
        <span style="color:#a6e22e">process</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./process&#39;</span>,
            <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;POST&#39;</span>,
            <span style="color:#a6e22e">withCredentials</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
            <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {},
            <span style="color:#a6e22e">timeout</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">7000</span>,
            <span style="color:#a6e22e">onload</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
            <span style="color:#a6e22e">onerror</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
            <span style="color:#a6e22e">ondata</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
        }
    }
});
</code></pre></div><table>
<thead>
<tr>
<th>key</th>
<th>description</th>
<th>required</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>Path to the end point</td>
<td>yes</td>
</tr>
<tr>
<td>method</td>
<td>Request method to use</td>
<td>no</td>
</tr>
<tr>
<td>withCredentials</td>
<td>Toggles the XMLHttpRequest withCredentials on or off</td>
<td>no</td>
</tr>
<tr>
<td>headers</td>
<td>An object containing additional headers to send, or when uploading chunks this can be a function that is expected to return a header object</td>
<td>no</td>
</tr>
<tr>
<td>timeout</td>
<td>Timeout for this action</td>
<td>no</td>
</tr>
<tr>
<td>onload</td>
<td>Called when server response is received, useful for getting the unique file id from the server response</td>
<td>no</td>
</tr>
<tr>
<td>onerror</td>
<td>Called when server error is received, receives the response body, useful to select the relevant error data</td>
<td>no</td>
</tr>
<tr>
<td>ondata</td>
<td>Called with the formdata object right before it is sent, return extended formdata object to make changes</td>
<td>no</td>
</tr>
</tbody>
</table>
<p>A more elaborate server configuration is shown below. This configuration reveals the <code>timeout</code> property as assigned to the server object. This sets it for all end points, it can also be configured per end point.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;http://192.168.0.100&#39;</span>,
        <span style="color:#a6e22e">timeout</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">7000</span>,
        <span style="color:#a6e22e">process</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./process&#39;</span>,
            <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;POST&#39;</span>,
            <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
                <span style="color:#e6db74">&#39;x-customheader&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Hello World&#39;</span>
            },
            <span style="color:#a6e22e">withCredentials</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
            <span style="color:#a6e22e">onload</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">response</span>) =&gt; <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">key</span>,
            <span style="color:#a6e22e">onerror</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">response</span>) =&gt; <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">data</span>,
            <span style="color:#a6e22e">ondata</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">formData</span>) =&gt; {
                <span style="color:#a6e22e">formData</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#39;Hello&#39;</span>, <span style="color:#e6db74">&#39;World&#39;</span>);
                <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">formData</span>;
            }
        },
        <span style="color:#a6e22e">revert</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./revert&#39;</span>,
        <span style="color:#a6e22e">restore</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./restore/&#39;</span>,
        <span style="color:#a6e22e">load</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./load/&#39;</span>,
        <span style="color:#a6e22e">fetch</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./fetch/&#39;</span>
    }
});
</code></pre></div><p>If we want to disable certain end points we can pass a <code>null</code> instead of string or object. Say we only want to use the fetch functionality and not do asynchronous uploading we can disable processing. In that situation revert and restore do not make a lot of sense (since we&rsquo;re no longer uploading temporary files) so we can remove those.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;http://192.168.0.100&#39;</span>,
        <span style="color:#a6e22e">timeout</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">7000</span>,
        <span style="color:#a6e22e">process</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
        <span style="color:#a6e22e">load</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./load/&#39;</span>,
        <span style="color:#a6e22e">fetch</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./fetch/&#39;</span>
    }
});
</code></pre></div><h2 id="advanced">Advanced</h2>
<p>If we require even more control we can configure each end point as a function instead of an object. FilePond will then run our function and supply callback methods to control the FilePond interface.</p>
<p>Note that in the examples below we make use of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow functions</a>, these can of course also be written as a classic function.</p>
<h3 id="process-1">Process</h3>
<p>The custom <code>process</code> function receives a <code>file</code> object plus a set of FilePond callback methods to return control to FilePond. The <code>file</code> parameter contains the native file object (instead of a FilePond file item) access the file item is restricted in the <code>process</code> function to prevent setting properties or running functions that would would contradict or interfere with the current processing of the file.</p>
<!-- raw HTML omitted -->
<p>The <code>transfer</code> and <code>options</code> parameters are only to be used when uploading chunks. Use <code>transfer</code> to return the transfer id to FilePond, the <code>options</code> parameter contains the chunk related options.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">process</span><span style="color:#f92672">:</span>(<span style="color:#a6e22e">fieldName</span>, <span style="color:#a6e22e">file</span>, <span style="color:#a6e22e">metadata</span>, <span style="color:#a6e22e">load</span>, <span style="color:#a6e22e">error</span>, <span style="color:#a6e22e">progress</span>, <span style="color:#a6e22e">abort</span>, <span style="color:#a6e22e">transfer</span>, <span style="color:#a6e22e">options</span>) =&gt; {

            <span style="color:#75715e">// fieldName is the name of the input field
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// file is the actual file object to send
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">formData</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">FormData</span>();
            <span style="color:#a6e22e">formData</span>.<span style="color:#a6e22e">append</span>(<span style="color:#a6e22e">fieldName</span>, <span style="color:#a6e22e">file</span>, <span style="color:#a6e22e">file</span>.<span style="color:#a6e22e">name</span>);

            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">request</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">XMLHttpRequest</span>();
            <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#39;POST&#39;</span>, <span style="color:#e6db74">&#39;url-to-api&#39;</span>);

            <span style="color:#75715e">// Should call the progress method to update the progress to 100% before calling load
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// Setting computable to false switches the loading indicator to infinite mode
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">upload</span>.<span style="color:#a6e22e">onprogress</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">e</span>) =&gt; {
                <span style="color:#a6e22e">progress</span>(<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">lengthComputable</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">loaded</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">total</span>);
            };

            <span style="color:#75715e">// Should call the load method when done and pass the returned server file id
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// this server file id is then used later on when reverting or restoring a file
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// so your server knows which file to return without exposing that info to the client
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">onload</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
                <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">200</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">status</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">300</span>) {
                    <span style="color:#75715e">// the load method accepts either a string (id) or an object
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">load</span>(<span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">responseText</span>);
                }
                <span style="color:#66d9ef">else</span> {
                    <span style="color:#75715e">// Can call the error method if something is wrong, should exit after
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;oh no&#39;</span>);
                }
            };

            <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">send</span>(<span style="color:#a6e22e">formData</span>);
            
            <span style="color:#75715e">// Should expose an abort method so the request can be cancelled
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">return</span> {
                <span style="color:#a6e22e">abort</span><span style="color:#f92672">:</span> () =&gt; {
                    <span style="color:#75715e">// This function is entered if the user has tapped the cancel button
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">abort</span>();

                    <span style="color:#75715e">// Let FilePond know the request has been cancelled
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">abort</span>();
                }
            };
        }
    }
});
</code></pre></div><h3 id="revert-1">Revert</h3>
<p>Custom revert methods receive the unique server file id and a load and error callback.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">revert</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">uniqueFileId</span>, <span style="color:#a6e22e">load</span>, <span style="color:#a6e22e">error</span>) =&gt; {
            
            <span style="color:#75715e">// Should remove the earlier created temp file here
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>
            <span style="color:#75715e">// Can call the error method if something is wrong, should exit after
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;oh my goodness&#39;</span>);

            <span style="color:#75715e">// Should call the load method when done, no parameters required
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">load</span>();
        }
    }
});
</code></pre></div><h3 id="load-1">Load</h3>
<p>Custom load methods receive the local file <code>source</code>, and the callback methods: <code>load</code>, <code>error</code>, <code>abort</code>, and <code>headers</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">load</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">source</span>, <span style="color:#a6e22e">load</span>, <span style="color:#a6e22e">error</span>, <span style="color:#a6e22e">progress</span>, <span style="color:#a6e22e">abort</span>, <span style="color:#a6e22e">headers</span>) =&gt; {
            <span style="color:#75715e">// Should request a file object from the server here
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>
            <span style="color:#75715e">// Can call the error method if something is wrong, should exit after
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;oh my goodness&#39;</span>);

            <span style="color:#75715e">// Can call the header method to supply FilePond with early response header string
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">headers</span>(<span style="color:#a6e22e">headersString</span>);

            <span style="color:#75715e">// Should call the progress method to update the progress to 100% before calling load
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// (endlessMode, loadedSize, totalSize)
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">progress</span>(<span style="color:#66d9ef">true</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1024</span>);

            <span style="color:#75715e">// Should call the load method with a file object or blob when done
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">load</span>(<span style="color:#a6e22e">file</span>);

            <span style="color:#75715e">// Should expose an abort method so the request can be cancelled
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">return</span> {
                <span style="color:#a6e22e">abort</span><span style="color:#f92672">:</span> () =&gt; {
                    <span style="color:#75715e">// User tapped cancel, abort our ongoing actions here
</span><span style="color:#75715e"></span>
                    <span style="color:#75715e">// Let FilePond know the request has been cancelled
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">abort</span>();
                }
            };
        }
    }
});
</code></pre></div><h3 id="fetch-1">Fetch</h3>
<p>The custom fetch method receives the <code>url</code> to fetch and a set of FilePond callback methods to return control to FilePond.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">fetch</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">url</span>, <span style="color:#a6e22e">load</span>, <span style="color:#a6e22e">error</span>, <span style="color:#a6e22e">progress</span>, <span style="color:#a6e22e">abort</span>, <span style="color:#a6e22e">headers</span>) =&gt; {
            <span style="color:#75715e">// Should get a file object from the URL here
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>
            <span style="color:#75715e">// Can call the error method if something is wrong, should exit after
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;oh my goodness&#39;</span>);

            <span style="color:#75715e">// Can call the header method to supply FilePond with early response header string
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">headers</span>(<span style="color:#a6e22e">headersString</span>);

            <span style="color:#75715e">// Should call the progress method to update the progress to 100% before calling load
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// (computable, loadedSize, totalSize)
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">progress</span>(<span style="color:#66d9ef">true</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1024</span>);

            <span style="color:#75715e">// Should call the load method with a file object when done
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">load</span>(<span style="color:#a6e22e">file</span>);

            <span style="color:#75715e">// Should expose an abort method so the request can be cancelled
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">return</span> {
                <span style="color:#a6e22e">abort</span><span style="color:#f92672">:</span> () =&gt; {
                    <span style="color:#75715e">// User tapped abort, cancel our ongoing actions here
</span><span style="color:#75715e"></span>
                    <span style="color:#75715e">// Let FilePond know the request has been cancelled
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">abort</span>();
                }
            };
        }
    }
});
</code></pre></div><h3 id="restore-1">Restore</h3>
<p>Custom restore methods receive the server file id of the file to restore and a set of FilePond callback methods to return control to FilePond.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">restore</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">uniqueFileId</span>, <span style="color:#a6e22e">load</span>, <span style="color:#a6e22e">error</span>, <span style="color:#a6e22e">progress</span>, <span style="color:#a6e22e">abort</span>, <span style="color:#a6e22e">headers</span>) =&gt; {
            <span style="color:#75715e">// Should get the temporary file object from the server
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>
            <span style="color:#75715e">// Can call the error method if something is wrong, should exit after
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;oh my goodness&#39;</span>);

            <span style="color:#75715e">// Can call the header method to supply FilePond with early response header string
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">headers</span>(<span style="color:#a6e22e">headersString</span>);

            <span style="color:#75715e">// Should call the progress method to update the progress to 100% before calling load
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// (computable, loadedSize, totalSize)
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">progress</span>(<span style="color:#66d9ef">true</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1024</span>);

            <span style="color:#75715e">// Should call the load method with a file object when done
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">load</span>(<span style="color:#a6e22e">serverFileObject</span>);

            <span style="color:#75715e">// Should expose an abort method so the request can be cancelled
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">return</span> {
                <span style="color:#a6e22e">abort</span><span style="color:#f92672">:</span> () =&gt; {
                    <span style="color:#75715e">// User tapped abort, cancel our ongoing actions here
</span><span style="color:#75715e"></span>
                    <span style="color:#75715e">// Let FilePond know the request has been cancelled
</span><span style="color:#75715e"></span>                    <span style="color:#a6e22e">abort</span>();
                }
            };
        };
    }
});
</code></pre></div><h3 id="remove-1">Remove</h3>
<p>The custom remove method receives the local file <code>source</code> and a <code>load</code> and <code>error</code> callback.</p>
<!-- raw HTML omitted -->
<p>This method is <code>null</code> by default as giving clients the power to remove files from the server in this way might not be very secure. But, because of popular demand the method has been added.</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">FilePond</span>.<span style="color:#a6e22e">setOptions</span>({
    <span style="color:#a6e22e">server</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">remove</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">source</span>, <span style="color:#a6e22e">load</span>, <span style="color:#a6e22e">error</span>) =&gt; {
            
            <span style="color:#75715e">// Should somehow send `source` to server so server can remove the file with this source
</span><span style="color:#75715e"></span>
            <span style="color:#75715e">// Can call the error method if something is wrong, should exit after
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">error</span>(<span style="color:#e6db74">&#39;oh my goodness&#39;</span>);

            <span style="color:#75715e">// Should call the load method when done, no parameters required
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">load</span>();
        }
    }
});
</code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>We can set the server location, end point paths, configure end point request parameters or override them with methods to finaly control how data is sent to the server. This gives us all the control we need to finely tune our connection to the server.</p>

  </main>

          <footer role="contentinfo">
            <div>
              <label for="themer">
                dark theme: <input type="checkbox" id="themer" class="vh">
                <span aria-hidden="true"></span>
              </label>
            </div>
            Powered by <strong>Cupper</strong>, a <strong>The Paciello Group</strong> project.<br>
            For general enquiries, contact us on <a href="https://pqina.nl/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e58c8b838aa59584868c8089898a82978a9095cb868a88cb">[email&#160;protected]</a>
          </footer>
        </div>
      </div>
    </div>
    <script data-cfasync="false" src="../../../../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="../../../js/prism.js"></script>
    <script src="../../../js/dom-scripts.js"></script>
  </body>

<!-- Mirrored from pqina.nl/filepond/docs/patterns/api/server/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 05 Apr 2021 12:53:11 GMT -->
</html>
